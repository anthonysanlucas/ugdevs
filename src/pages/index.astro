---
import Base from '@/layouts/Base.astro'
import Hero from '@/components/home/Hero.astro'
import ToolsInformation from '@/components/home/ToolsInformation.astro'
import Entrepreneurship from '@/components/home/Entrepreneurship.astro'
import Contributors from '@/components/home/Contributors.astro'
import AudetecBanner from '@/components/home/AudetecBanner.astro'
---

<Base
  currentUrl=""
  titlePage="UG Devs | Herramientas de Estudiantes de la Universidad de Guayaquil"
  descriptionPage="Más de 10.000 estudiantes se han beneficiado de estas herramientas, simulador de calificaciones, reseñas de profesores, emprendimientos y más en la Universidad de Guayaquil.">
  <Hero />
  <ToolsInformation />
  <AudetecBanner />
  <Entrepreneurship />
  <Contributors />
</Base>

<script>
  const intersectionParams = {
    root: null,
    rootMargin: '0px',
    threshold: 0.1
  }

  function handleLeftIntersection(entries, observer) {
    entries.forEach(entry => {
      if (entry.isIntersecting) {
        entry.target.classList.add('animate-fade-left')
        entry.target.classList.add('opacity-100')
        observer.unobserve(entry.target)
      }
    })
  }

  function handleRightIntersection(entries, observer) {
    entries.forEach(entry => {
      if (entry.isIntersecting) {
        entry.target.classList.add('animate-fade-right')
        entry.target.classList.add('opacity-100')
        observer.unobserve(entry.target)
      }
    })
  }

  const leftElements = document.querySelectorAll('.fade-left')
  const rightElements = document.querySelectorAll('.fade-right')
  const observerLeft = new IntersectionObserver(handleLeftIntersection, intersectionParams)
  const observerRight = new IntersectionObserver(handleRightIntersection, intersectionParams)

  leftElements.forEach(element => {
    observerLeft.observe(element)
  })

  rightElements.forEach(element => {
    observerRight.observe(element)
  })
</script>
